<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
<title>SvgEditor</title>
    <style>
        :root, html, body {
            width: 100%;
            height: 100%;
            box-sizing: border-box;
            padding: 0;
            margin: 0;
        }
        body {
        	overflow:scroll;
            width: 100%;
            height: 100%;
            box-sizing: border-box;
            padding: 0;
            margin: 0;
        }
        input {
        	width:100%;
            margin: 0;
            padding: 5px 0;
        }
        #svgCanvas {
            border: 2px solid  #007BFF;
            box-sizing: border-box;
        }

#downloadBtn{
	width:100%;
            display: block;
            padding: 10px 20px;
            background-color: #007BFF;
            color: white;
            cursor: pointer;
            border-radius: 5px;
        }



/* Hide the checkbox */
        #toggle {
            display: none;
        }

        /* Style the label to look like a button */
        .toggle-label {
            display: inline-block;
            padding: 10px 20px;
            background-color: #007BFF;
            color: white;
            cursor: pointer;
            border-radius: 5px;
        }

        /* Content to show/hide */
        .toggle-content {
        	
        	box-sizing: border-box;
        	width:100%;
            display: none;
            margin:0px;
            padding: 10px;
            border: 1px solid #007BFF;
            border-radius: 5px;
        }

        /* Show content when checkbox is checked */
        #toggle:checked + .toggle-label + .toggle-content {
            display: block;
        }

</style>
</head>
<body>
 <div id="kontent" style="overflow: hidden; position: relative;">

<svg id="svgCanvas" width="500" height="500">
    <path id="drawPath" stroke="red" stroke-width="3" fill="none"/>
    <circle id="cSize" cx="0" cy="0" r="10" fill="orange">
        <animateMotion dur="10" repeatCount="indefinite">
            <mpath href="#drawPath" />
        </animateMotion>
    </circle>
</svg></div>

<input type="checkbox" id="toggle">
<label for="toggle" class="toggle-label" style="position: fixed; left: 0; bottom: 0; z-index: 1;">Toggle Content</label>

<div id="tools" class="toggle-content" style="overflow: hidden; position: fixed; left: 0; top: 0; z-index: 1;">
    <label for="sVw">Svg Width</label>
     <input type="range" id="sVw" min="0" max="1000" value="500">
    <label for="sVh">Svg Height</label>
    <input type="range" id="sVh" min="0" max="1000" value="500">
    <label for="pWs">Path Width</label>
    <input type="range" id="pWs" min="0" max="200" value="10">
    <label for="cSr">Circle Size</label>
    <input type="range" id="cSr" min="0" max="200" value="10">
    <br/>
    <button id="downloadBtn">Download SVG</button>
</div>


<script>
const svgCanvas = document.getElementById('svgCanvas');
const drawPath = document.getElementById('drawPath');
const cSize = document.getElementById('cSize');
const downloadBtn = document.getElementById('downloadBtn');
let isDrawing = false; 
let pathData = '';

const createSVGContent = (svwidth, svheight, pws, csr) => `
    <svg xmlns="http://www.w3.org/2000/svg" width="${svwidth}" height="${svheight}">
        <path id="draw" stroke="red" stroke-width="${pws}" fill="none" d="${pathData}" />
        <circle cx="0" cy="0" r="${csr}" fill="coral">
            <animateMotion dur="10s" repeatCount="indefinite">
                <mpath href="#draw" />
            </animateMotion>
        </circle>
    </svg>`;

const startDrawing = (event) => {
    isDrawing = true; 
    const touch = event.touches ? event.touches[0] : event;
    pathData += `M ${touch.clientX} ${touch.clientY}`; 
    drawPath.setAttribute('d', pathData); 
    event.preventDefault(); 
};

const draw = (event) => {
    if (!isDrawing) return; 
    const touch = event.touches ? event.touches[0] : event;
    pathData += ` L ${touch.clientX} ${touch.clientY}`; 
    drawPath.setAttribute('d', pathData); 
};

const stopDrawing = () => { isDrawing = false; };

svgCanvas.addEventListener('touchstart', startDrawing);
svgCanvas.addEventListener('touchmove', draw);
svgCanvas.addEventListener('touchend', stopDrawing);
svgCanvas.addEventListener('touchcancel', stopDrawing);
svgCanvas.addEventListener('mousedown', startDrawing);
svgCanvas.addEventListener('mousemove', draw);
svgCanvas.addEventListener('mouseup', stopDrawing);
svgCanvas.addEventListener('mouseleave', stopDrawing);

const widthSlider = document.getElementById('sVw');
const heightSlider = document.getElementById('sVh');
const pWs = document.getElementById('pWs');
const cSr = document.getElementById('cSr');

widthSlider.oninput = () => { svgCanvas.setAttribute('width', widthSlider.value); };
heightSlider.oninput = () => { svgCanvas.setAttribute('height', heightSlider.value); };
pWs.oninput = () => { drawPath.setAttribute('stroke-width', pWs.value); };
cSr.oninput = () => { cSize.setAttribute('r', cSr.value); };        

downloadBtn.addEventListener('click', () => {
    const svgWidth = widthSlider.value;  
    const svgHeight = heightSlider.value; 
    const pws = pWs.value;
    const csr = cSr.value;    
    const svgContent = createSVGContent(svgWidth, svgHeight, pws, csr);

    const blob = new Blob([svgContent], { type: 'image/svg+xml' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a'); 
    a.href = url; 
    a.download = 'image.svg'; 
    document.body.appendChild(a); 
    a.click(); 
    document.body.removeChild(a); 
    URL.revokeObjectURL(url); 
});
</script>
</body>
</html>
